# Webカメラ撮影と印刷機能 仕様書

## 1. 機能概要
Webカメラを使用した画像の撮影、AIによる画像生成、印刷機能を追加します。

## 2. 画面フロー
1. 撮影画面
   - Webカメラのプレビュー表示
   - 撮影ボタン
   - 撮影後の画像確認

2. 生成画面
   - 撮影画像の表示
   - 生成ボタン
   - ローディング表示

3. 印刷画面
   - 生成された線画の表示
   - 日付表示
   PCN武生のロゴ表示
   - OKボタン

## 3. 詳細仕様

### 3.1 撮影機能
- Webカメラのストリームを表示
- 解像度: 1280x720 推奨
- アスペクト比: 16:9
- カメラの切り替え機能（前面/背面）
- フラッシュ機能（利用可能な場合）

### 3.2 生成機能
- 撮影画像をAIに送信
- ローディングアニメーション表示
- エラーハンドリング
- 生成完了後のコールバック

### 3.3 印刷機能
- 印刷用の最適化されたビュー
- 日付の自動挿入
- 印刷プレビュー
- 印刷後のリセット

## 4. 技術的考慮事項
- WebRTC を使用したカメラアクセス
- レスポンシブデザイン対応
- アクセシビリティ対応
- モバイルブラウザ対応

---

## 5. 追加仕様：WebCam画像の一時ファイル保存とAPI連携

- 呼び出すAPI（img2img）は pngファイル形式で画像を受け取る仕様。img2img 側の修正は行わない。
- Webカメラで撮影した画像を一時的にpngファイルとしてローカル保存し、そのファイル名をAPIリクエスト時に指定する。
- 生成処理が完了したら、一時保存したpngファイルを削除する。
- すべての処理はローカル環境で完結する。
- セキュリティやパス管理には注意する。